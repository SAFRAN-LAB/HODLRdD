<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HODLRdD: cereal::detail::PolymorphicCasters Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HODLRdD<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Hierarchically off-diagonal low-rank matrix in d dimensions (HODLR d D), a black-box fast algorithm for particle simulations in d dimensions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d6/d02/structcereal_1_1detail_1_1_polymorphic_casters.html','../../','d3/dd4/structcereal_1_1detail_1_1_polymorphic_casters-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cereal::detail::PolymorphicCasters Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Holds registered mappings between base and derived types for casting.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d11/polymorphic__impl_8hpp_source.html">polymorphic_impl.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a34ac3516aa89fde224190d9a5d0c43c6" id="r_a34ac3516aa89fde224190d9a5d0c43c6"><td class="memItemLeft" align="right" valign="top"><a id="a34ac3516aa89fde224190d9a5d0c43c6" name="a34ac3516aa89fde224190d9a5d0c43c6"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>DerivedCasterMap</b> = std::unordered_map&lt;std::type_index, std::vector&lt;<a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html">PolymorphicCaster</a> const *&gt;&gt;</td></tr>
<tr class="memdesc:a34ac3516aa89fde224190d9a5d0c43c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps from a derived type index to a set of chainable casters. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3120704ea7c0a54d8fc5c2a9a032b32d" id="r_a3120704ea7c0a54d8fc5c2a9a032b32d"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; bool, std::vector&lt; <a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html">PolymorphicCaster</a> const * &gt; const &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3120704ea7c0a54d8fc5c2a9a032b32d">lookup_if_exists</a> (std::type_index const &amp;baseIndex, std::type_index const &amp;derivedIndex)</td></tr>
<tr class="memdesc:a3120704ea7c0a54d8fc5c2a9a032b32d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the mapping object that can perform the upcast or downcast exists, and returns it if so.  <br /></td></tr>
<tr class="memitem:ae489c2a9516f0056479c1c0e33c0bfd6" id="r_ae489c2a9516f0056479c1c0e33c0bfd6"><td class="memTemplParams" colspan="2">template&lt;class F&gt; </td></tr>
<tr class="memitem:ae489c2a9516f0056479c1c0e33c0bfd6 template"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html">PolymorphicCaster</a> const * &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae489c2a9516f0056479c1c0e33c0bfd6">lookup</a> (std::type_index const &amp;baseIndex, std::type_index const &amp;derivedIndex, F &amp;&amp;exceptionFunc)</td></tr>
<tr class="memdesc:ae489c2a9516f0056479c1c0e33c0bfd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the mapping object that can perform the upcast or downcast.  <br /></td></tr>
<tr class="memitem:aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24" id="r_aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24"><td class="memTemplParams" colspan="2"><a id="aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24" name="aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24"></a>
template&lt;class Derived&gt; </td></tr>
<tr class="memitem:aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24 template"><td class="memItemLeft" align="right" valign="top">static const Derived *&#160;</td><td class="memItemRight" valign="bottom"><b>downcast</b> (const void *dptr, std::type_info const &amp;baseInfo)</td></tr>
<tr class="memdesc:aa0e37eb2bb9f2f2b9a4e2d0f68dd6a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a downcast to the derived type using a registered mapping. <br /></td></tr>
<tr class="memitem:aab705357ea4e0494c91a09d14c33efba" id="r_aab705357ea4e0494c91a09d14c33efba"><td class="memTemplParams" colspan="2">template&lt;class Derived&gt; </td></tr>
<tr class="memitem:aab705357ea4e0494c91a09d14c33efba template"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab705357ea4e0494c91a09d14c33efba">upcast</a> (Derived *const dptr, std::type_info const &amp;baseInfo)</td></tr>
<tr class="memdesc:aab705357ea4e0494c91a09d14c33efba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an upcast to the registered base type using the given a derived type.  <br /></td></tr>
<tr class="memitem:abc39a0e05acd42d553215303f1101007" id="r_abc39a0e05acd42d553215303f1101007"><td class="memTemplParams" colspan="2"><a id="abc39a0e05acd42d553215303f1101007" name="abc39a0e05acd42d553215303f1101007"></a>
template&lt;class Derived&gt; </td></tr>
<tr class="memitem:abc39a0e05acd42d553215303f1101007 template"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>upcast</b> (std::shared_ptr&lt; Derived &gt; const &amp;dptr, std::type_info const &amp;baseInfo)</td></tr>
<tr class="memdesc:abc39a0e05acd42d553215303f1101007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upcasts for shared pointers. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab73d51a06e51c40527b5356befe2d6cf" id="r_ab73d51a06e51c40527b5356befe2d6cf"><td class="memItemLeft" align="right" valign="top"><a id="ab73d51a06e51c40527b5356befe2d6cf" name="ab73d51a06e51c40527b5356befe2d6cf"></a>
std::unordered_map&lt; std::type_index, <a class="el" href="#a34ac3516aa89fde224190d9a5d0c43c6">DerivedCasterMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>map</b></td></tr>
<tr class="memdesc:ab73d51a06e51c40527b5356befe2d6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps from base type index to a map from derived type index to caster. <br /></td></tr>
<tr class="memitem:a2882f71eeb29db503e81b8796b6418b6" id="r_a2882f71eeb29db503e81b8796b6418b6"><td class="memItemLeft" align="right" valign="top"><a id="a2882f71eeb29db503e81b8796b6418b6" name="a2882f71eeb29db503e81b8796b6418b6"></a>
std::multimap&lt; std::type_index, std::type_index &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>reverseMap</b></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Holds registered mappings between base and derived types for casting. </p>
<p>This will be allocated as a <a class="el" href="../../de/d04/classcereal_1_1detail_1_1_static_object.html" title="A static, pre-execution object.">StaticObject</a> and holds a map containing all registered mappings between base and derived types. </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ae489c2a9516f0056479c1c0e33c0bfd6" name="ae489c2a9516f0056479c1c0e33c0bfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae489c2a9516f0056479c1c0e33c0bfd6">&#9670;&#160;</a></span>lookup()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html">PolymorphicCaster</a> const * &gt; const  &amp; cereal::detail::PolymorphicCasters::lookup </td>
          <td>(</td>
          <td class="paramtype">std::type_index const &amp;</td>          <td class="paramname"><span class="paramname"><em>baseIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::type_index const &amp;</td>          <td class="paramname"><span class="paramname"><em>derivedIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>exceptionFunc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the mapping object that can perform the upcast or downcast. </p>
<p>Uses the type index from the base and derived class to find the matching registered caster. If no matching caster exists, calls the exception function.</p>
<p>The returned <a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html" title="Base type for polymorphic void casting.">PolymorphicCaster</a> is capable of upcasting or downcasting between the two types. </p>

</div>
</div>
<a id="a3120704ea7c0a54d8fc5c2a9a032b32d" name="a3120704ea7c0a54d8fc5c2a9a032b32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3120704ea7c0a54d8fc5c2a9a032b32d">&#9670;&#160;</a></span>lookup_if_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, std::vector&lt; <a class="el" href="../../d5/dea/structcereal_1_1detail_1_1_polymorphic_caster.html">PolymorphicCaster</a> const * &gt; const &amp; &gt; cereal::detail::PolymorphicCasters::lookup_if_exists </td>
          <td>(</td>
          <td class="paramtype">std::type_index const &amp;</td>          <td class="paramname"><span class="paramname"><em>baseIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::type_index const &amp;</td>          <td class="paramname"><span class="paramname"><em>derivedIndex</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the mapping object that can perform the upcast or downcast exists, and returns it if so. </p>
<p>Uses the type index from the base and derived class to find the matching registered caster. If no matching caster exists, the bool in the pair will be false and the vector reference should not be used. </p>

</div>
</div>
<a id="aab705357ea4e0494c91a09d14c33efba" name="aab705357ea4e0494c91a09d14c33efba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab705357ea4e0494c91a09d14c33efba">&#9670;&#160;</a></span>upcast()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Derived&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * cereal::detail::PolymorphicCasters::upcast </td>
          <td>(</td>
          <td class="paramtype">Derived *const</td>          <td class="paramname"><span class="paramname"><em>dptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::type_info const &amp;</td>          <td class="paramname"><span class="paramname"><em>baseInfo</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs an upcast to the registered base type using the given a derived type. </p>
<p>The return is untyped because the final casting to the base type must happen in the polymorphic serialization function, where the type is known at compile time </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lib/cereal/details/<a class="el" href="../../d7/d11/polymorphic__impl_8hpp_source.html">polymorphic_impl.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../da/da6/namespacecereal.html">cereal</a></li><li class="navelem"><b>detail</b></li><li class="navelem"><a href="../../d6/d02/structcereal_1_1detail_1_1_polymorphic_casters.html">PolymorphicCasters</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
